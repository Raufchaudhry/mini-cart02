<!DOCTYPE html>
<html>
        <head>
          <link rel="stylesheet" href="main.css"></link>
          <script src="https://kit.fontawesome.com/16de34b7d3.js" crossorigin="anonymous"></script>
        </head>
        <body style="overflow:hidden; margin:0;">
          <div style="background-color:rgb(112, 184, 243);width:100vw; height:80vh; display:flex; flex-direction:column; justify-content:flex-start; align-items: center;">
            <p id="online-shop"><span>S:ta Maria Online Shop</span></p>
            <header>
              <h2>My JS Cart </h2>
              <img src="./grocery.png"/>
            </header>
            <main>
              <div id="product-container" class="product-container">
          
              </div>
              <p id="total-price">Total: <span id="total"></span></p>
            </main>
          </div>
          <footer style="padding-top:3rem; color:rgb(93, 167, 240); text-align:center; background:url(./Test-stmaria-logo-mitten-3.png) no-repeat right bottom; background-size: contain; height:15vh;">
            @Copyright 1993 – 2023 | S:ta Maria folkhögskola av S:ta Maria folkhögskola 
      All Rights Reserved 
          </footer>
        </body>
      </html>
    <script>

   /*  ANVISNINGAR

    1. Plussa och minska antal "butter" när man klickar på knapparna
    2. Om antalet produkterna är mindre än 1 ändrar ni inte qty (antalet). Använd return
    3. Sätt in ett pris med 30 kr bredvid butter
    4. Sätt en bild på produkten på samma höjd
    5. Lägg till en ny produkt (t ex "milk") med pris 20 kr och få den att fungera 
    samma typ av fakta
    6. Se till att den nya produkten har samma funktionalitet som den första på qty */
    
    let products=[
        {name:"Butter", qty:1, price:30, org_price:30, img:'https://www.recepten.se/bilder/info/50/main/l/smoer.jpg'},
        {name: "Banan", price: 20, qty: 1 , org_price:20, img:"https://images.complex.com/complex/images/c_fill,dpr_auto,f_auto,q_90,w_1400/fl_lossy,pg_1/spjgiks9liaiaweqepv8/chiquita-bananas"}
      ]

    function showProds(){

      for (i=0;i<products.length;i++){

        document.getElementById('product-container').innerHTML += `
  
                <div style="display:flex; align-items:center;" class="product" id="prod-${i}">
                  <h3>${products[i].name}</h3>
                  <div class="plus-minus">
                    <button class="button"
                      onclick="plussaMinska('minus', ${i})">
                      <i class="fa fa-minus fa-small" aria-hidden="true"></i>
                    </button>
                    <p id="qty-${i}">${products[i].qty}</p>
                    <button class="button"
                      onclick="plussaMinska('plus', ${i})">
                      <i class="fa fa-plus" aria-hidden="true"></i>
                    </button>
                  </div>
                  <div class="price-container">
                  <img src="${products[i].img}"/>
                  <p id="price-${i}">${products[i].price} sek</p>
                </div>
                </div>
                
                <hr class="line">`
      }
    }

    showProds()
    function updateTotal(){
  let totalPrice = 0
   for (i=0;i<products.length;i++){
  totalPrice = totalPrice + products[i].price
}
document.getElementById('total-price').innerHTML = totalPrice + ' sek'
}

    updateTotal()
    
      function plussaMinska(action, prodNr) {
        if (action==='plus'){
      products[prodNr].price =  products[prodNr].price + products[prodNr].org_price
      products[prodNr].qty +=1
    }
    else{   
      if (products[prodNr].qty > 1){
      products[prodNr].price = products[prodNr].price -products[prodNr].org_price 
      products[prodNr].qty -=1
      if (products[prodNr].qty===0){
      document.getElementById(`prod-${prodNr}`).innerHTML = ""
      
      // HÄR TAR VI BORT PRODUKTEN
      
      updateTotal()
      return}
    }
    }
    
    document.getElementById(`qty-${prodNr}`).innerHTML = products[prodNr].qty
    document.getElementById(`price-${prodNr}`).innerHTML = products[prodNr].price + ' sek'

    updateTotal()
  }
       
      
    </script>
  </body>
</html>